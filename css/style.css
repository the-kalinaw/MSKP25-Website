/* ======================================================
   STYLE.CSS - TABLE OF CONTENTS
   ======================================================
   1. THEME & GLOBAL VARIABLES (:root)
   2. GENERAL PAGE LAYOUT & UTILITIES
   3. LOGIN MODAL       
   4. CONFIRMATION MODAL
   5. VIEW SALE MODAL     
   6. DASHBOARD  
   7. COMPONENT: STAGE
   8. COMPONENT: LEGEND
   9. COMPONENT: SEATING CHART
   10. COMPONENT: SEAT
   11. COMPONENT: SUMMARY & BUTTON
   12. RESPONSIVE DESIGN
   ====================================================== */


/* ====================================================== */
/* 1. THEME & GLOBAL VARIABLES (:root)                    */
/* ====================================================== */
:root {
    --color-background: #241f18; /* A very dark, warm brown instead of pure black/blue */
    --color-text: #f0e6d2;       /* A soft, parchment-like off-white */
    --color-stage: #3b352a;      /* A muted, dark brown for the stage */
    --color-seat-selected: #34d1bf; /* A vibrant teal for selection, provides good contrast */
    --color-seat-sold: #950606;     /* A very dark grey/black for sold seats to make them recede */
    --color-seat-ginto: #fdaa24;
    --color-seat-pilak: #aaaaaa;
    --color-seat-tanso: #6ab658;
    --color-seat-vip: #ff5757;
    --color-seat-kids: #ff69b4;
}


/* ====================================================== */
/* 2. GENERAL PAGE LAYOUT & UTILITIES                     */
/* ====================================================== */
body {
    background-color: var(--color-background);
    color: var(--color-text);
    font-family: 'Cinzel', serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding-top: 40px; /* Add some space at the top */
    min-height: 100vh;
    margin: 0;
}
.booking-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
}
/* A simple utility class to hide elements */
.hidden {
    display: none !important;
}

/* Styling for the main logo image */
.main-logo {
    /* YOUR ACTION: Adjust the max-width to change the logo size */
    max-width: 50%; 
    width: 90%; /* Ensures it's responsive on small screens */
    height: auto; /* Maintains aspect ratio */
    margin-bottom: 20px;
}

.nav-link {
    color: var(--color-seat-selected);
    text-decoration: none;
    font-size: 1.1rem;
    font-weight: bold;
    margin-bottom: 20px;
    transition: all 0.2s ease-out;
}
.nav-link:hover {
    color: #8efffd; /* Lighter teal on hover */
    text-decoration: underline;
}

/* ====================================================== */
/* 3. COMPONENT: LOGIN MODAL                              */
/* ====================================================== */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.75);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000; /* Ensure it's on top of everything */
}
.modal-content {
    background-color: #2c2b3a; /* A slightly lighter background */
    padding: 30px 40px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    width: 90%;
    max-width: 400px;
    text-align: center;
    position: relative;
}
.modal-content h2 {
    margin-top: 0;
}
.form-group {
    margin-bottom: 20px;
    text-align: left;
}
.form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
}
.form-group input,
.form-group select {
    width: 100%;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #555;
    background-color: #3d3d49;
    color: var(--color-text);
    font-size: 1rem;
    box-sizing: border-box; /* Important for consistent sizing */
}
.login-btn {
    width: 100%;
    padding: 12px;
    border: none;
    border-radius: 5px;
    background-color: var(--color-seat-selected);
    color: var(--color-background);
    font-size: 1.1rem;
    font-weight: bold;
    cursor: pointer;
    transition: background-color 0.2s;
}
.login-btn:hover {
    background-color: #8efffd;
}

/* ====================================================== */
/* 4. COMPONENT: CONFIRMATION MODAL                       */
/* ====================================================== */

.close-modal-btn {
    /* Position the button absolutely within its 'relative' parent */
    position: absolute;
    top: 10px;
    right: 15px;

    /* Remove default button appearance */
    background: transparent;
    border: none;
    
    /* Style the 'x' text */
    font-size: 2rem; /* Make the 'x' larger */
    font-weight: bold;
    color: var(--color-text);
    line-height: 1; /* Ensure tight vertical alignment */
    
    /* Make it feel interactive */
    cursor: pointer;
    opacity: 0.7;
    transition: all 0.2s ease-out;
}
.close-modal-btn:hover {
    opacity: 1;
    transform: scale(1.1);
}

.confirmation-details {
    margin-top: 15px;
    text-align: center;
}
.confirmation-details p {
    margin: 5px 0;
    font-size: 1.1rem;
    color: var(--color-text);
}
#conf-seat-list {
    font-weight: bold;
    color: var(--color-seat-selected); /* Use the highlight color for the list */
    font-size: 1.2rem;
    word-break: break-all;
}

/* ====================================================== */
/* 5. COMPONENT: VIEW SALE MODAL                          */
/* ====================================================== */

#view-sale-modal .modal-content {
    max-width: 40%;
}

.sale-details-grid {
    margin-top: 20px;
    display: grid;
    /* Create a two-column grid for details */
    grid-template-columns: auto auto;
    gap: 15px 45px; /* Row and column gap */
    align-items: center;
}
.sale-details-grid strong {
    text-align: left;
    font-family: 'Cinzel', serif;
    opacity: 0.8;
}
.sale-details-grid span {
    text-align: center;
    font-family: Arial, sans-serif;
    font-weight: bold;
    word-break: break-all; /* Allow long text to wrap */
}

/* --- Edit Sale Form Styles --- */
#edit-sale-form {
    width: 100%;
}

.sale-details-grid input[type="text"],
.sale-details-grid input[type="number"] {
    /* Reuse styles from our login form for consistency */
    width: 100%;
    padding: 8px;
    border-radius: 5px;
    border: 1px solid #555;
    background-color: #3d3d49;
    color: var(--color-text);
    font-size: 0.9rem;
    box-sizing: border-box;
}

.sale-details-grid input:disabled {
    background-color: #2c2b3a;
    opacity: 0.7;
    cursor: not-allowed;
}

.static-detail {
    background-color: #3d3d49;
    padding: 8px;
    border-radius: 5px;
    font-family: Arial, sans-serif;
    font-weight: bold;
    word-break: break-all;
}

.modal-buttons {
    margin-top: 25px;
}

/* ====================================================== */
/* 6. COMPONENT: DASHBOARD                                */
/* ====================================================== */
.dashboard-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    padding: 0 20px;
    box-sizing: border-box;
}

.dashboard-header {
    width: 100%;
    text-align: center;
    margin-bottom: 30px;
}

.dashboard-module {
    background-color: var(--color-stage);
    border-radius: 15px;
    padding: 20px 30px;
    width: 100%;
    max-width: 1200px;
    margin-bottom: 30px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
}
.dashboard-module h2 {
    margin-top: 0;
    border-bottom: 1px solid rgba(240, 230, 210, 0.2);
    padding-bottom: 10px;
}

/* --- KPI Grid Styles --- */
.kpi-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}
.kpi-card {
    background-color: var(--color-background);
    padding: 20px;
    border-radius: 10px;
    text-align: center;
}
.kpi-card h3 {
    margin-top: 0;
    font-size: 1.2rem;
    opacity: 0.8;
}
.kpi-card p {
    margin-bottom: 0;
    font-size: 2rem;
    font-weight: bold;
    color: var(--color-seat-selected);
}

/* --- Table Styles (for both Category and Sales Log) --- */
.category-summary, .sales-log-container {
    width: 100%;
    overflow-x: auto; /* Allow tables to be scrolled on small screens */
}
table {
    width: 100%;
    border-collapse: collapse; /* Clean, modern table borders */
    margin-top: 15px;
}
th, td {
    padding: 12px 15px;
    text-align: left;
    border-bottom: 1px solid rgba(240, 230, 210, 0.2);
}
th {
    font-size: 1.1rem;
    color: var(--color-text);
}
td {
    font-family: Arial, sans-serif; /* Use a more standard font for data */
    font-size: 0.9rem;
}

/* --- VIP Management Styles --- */
.vip-management-grid {
    display: grid;
    grid-template-columns: 1fr 2fr; /* Make the form wider than the availability list */
    gap: 30px;
}
.vip-availability h3 {
    margin-top: 0;
}
.vip-availability p {
    font-size: 1.1rem;
}
.vip-availability strong {
    color: var(--color-seat-selected);
}
.vip-form {
    background-color: var(--color-background);
    padding: 20px;
    border-radius: 10px;
}

/* --- Action Button Styles (in table) --- */
.view-sale-btn,
.delete-sale-btn {
    font-family: Arial, sans-serif;
    font-weight: bold;
    border: none;
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 0.8rem;
    transition: all 0.2s ease-out;
}

.view-sale-btn {
    background-color: var(--color-seat-pilak);
    color: var(--color-background);
}
.view-sale-btn:hover {
    opacity: 0.8;
}

.delete-sale-btn {
    background-color: var(--color-seat-sold);
    color: var(--color-text);
}
.delete-sale-btn:hover {
    background-color: #ff5757; /* Brighter red on hover */
}

/* ====================================================== */
/* 7. COMPONENT: STAGE                                    */
/* ====================================================== */
.stage {
    background-color: var(--color-stage);
    color: var(--color-text);
    height: 50px;
    width: 80%;
    max-width: 600px;
    margin: 10px 0 30px 0; /* Adjusted margin */
    display: flex; /* Use flexbox for easy centering */
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: bold; /* Make text bolder */
    letter-spacing: 4px;
    border-radius: 15px; /* More pronounced rounding */
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5); /* A softer, darker shadow */
    transform: none; /* Removed the 3D rotation for a flat, modern look */
}


/* ====================================================== */
/* 8. COMPONENT: LEGEND                                   */
/* ====================================================== */
.legend {
    display: flex;
    justify-content: center;
    gap: 20px; /* Space between items */
    padding: 0;
    background: transparent; /* No background */
    margin-bottom: 30px;
    list-style: none; /* Remove list styles if any */
}
.legend-item {
    display: flex;
    align-items: center;
    gap: 8px; /* Space between the color swatch and text */
}
.legend .seat {
    width: 18px;
    height: 18px;
    margin: 0; /* Remove margin from legend swatches */
    border-radius: 5px; /* Softly rounded corners */
}
/* Define the colors for the swatches. We add sold states too for clarity. */
.legend .seat.selected { background-color: var(--color-seat-selected); }
.legend .seat.sold { background-color: var(--color-seat-sold); }
.legend .seat.ginto { background-color: var(--color-seat-ginto); }
.legend .seat.pilak { background-color: var(--color-seat-pilak); }
.legend .seat.tanso { background-color: var(--color-seat-tanso); }
.legend .seat.vip { background-color: var(--color-seat-vip); }
.legend .seat.intermediate { background-color: var(--color-seat-kids); }

/* ====================================================== */
/* 9. COMPONENT: SEATING CHART                            */
/* ====================================================== */

.seating-chart {
    perspective: 1000px;
    margin-bottom: 30px;
    width: 100%;
    max-width: 95%;
    overflow-x: auto; 
    padding: 10px;
}
.seat-row {
    display: flex;
    justify-content: center;
    min-width: max-content;
}
.spacer {
    background-color: transparent;
    border: none;
    width: 23px;
    height: 20px;
    margin: 4px;
    flex-shrink: 0;
}


/* ====================================================== */
/* 10. COMPONENT: SEAT                                     */
/* ====================================================== */
.seat {
    /* --- NEW SHAPE & SIZE --- */
    width: 23px;
    height: 20px;
    margin: 4px;
    border-radius: 8px; /* This creates the new rounded rectangle shape */
    box-shadow: 0 2px 5px rgba(0,0,0,0.4); /* Adds a subtle 3D lift */
    
    /* --- FONT & TEXT --- */
    display: flex; /* Using flexbox for perfect text centering */
    align-items: center;
    justify-content: center;
    font-size: 0.45rem;
    font-weight: bold;
    font-family: Verdana, sans-serif; /* Your choice for readability */
    color: #000;
    
    /* --- OTHER PROPERTIES --- */
    flex-shrink: 0;
    transition: all 0.2s ease-out; /* Transition all properties for smoother effects */
    user-select: none;
}

/* --- Seat States --- */
.seat.available {
    cursor: pointer;
}
.seat.available:hover {
    transform: scale(1.1); /* Slightly smaller pop for a more subtle feel */
    box-shadow: 0 4px 8px rgba(0,0,0,0.5); /* Enhance shadow on hover */
}
.seat.sold {
    background-color: var(--color-seat-sold);
    color: var(--color-text);
    cursor: not-allowed;
    opacity: 0.8; 
}

/* --- Seat Category Colors (Available) --- */
.seat.available.seat-vip { background-color: var(--color-seat-vip); cursor: not-allowed; pointer-events: none;}
.seat.available.seat-ginto { background-color: var(--color-seat-ginto); }
.seat.available.seat-pilak { background-color: var(--color-seat-pilak); }
.seat.available.seat-tanso { background-color: var(--color-seat-tanso); }
.seat.available.seat-intermediate { background-color: var(--color-seat-kids); cursor: not-allowed; pointer-events: none;}

/* --- Selected State (Put here to override available state colors) --- */
.seat.available.selected {
    background-color: var(--color-seat-selected);
    transform: scale(1.5);
    box-shadow: 0 0 10px var(--color-seat-selected); /* Add a glow when selected */
}

/* ====================================================== */
/* 11. COMPONENT: SUMMARY & BUTTON                         */
/* ====================================================== */
.summary {
    text-align: center;
    margin-top: 10px;
    background-color: var(--color-stage); /* Match the stage color for consistency */
    padding-top: 10px;
    padding-bottom: 20px;
    border-radius: 15px; /* Match the stage rounding */
    width: 90%;
    max-width: 700px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.5); /* Match the stage shadow */
    margin-bottom: 30px;
}
.summary p {
    padding-right: 20px;
    margin: 10px 0;
    font-size: 1.2rem; /* Slightly larger text */
}
.summary span {
    font-weight: bold;
    color: var(--color-seat-selected);
}
#selected-seats-container {
    margin: 15px 0;
    font-size: 1.1rem;
    color: var(--color-text);
}
#selected-seats-list {
    color: #f0e6d2; /* Match main text color */
    font-weight: normal; /* Make the list itself less bold */
    word-break: break-all;
    display: block; /* Ensure it takes up its own line */
    margin-top: 5px;
}

/* Container for both buttons to align them side by side */
.summary-buttons {
    display: flex;
    justify-content: center;
    gap: 15px; /* Space between the buttons */
    margin-top: 20px;
    flex-wrap: wrap; /* Allow buttons to wrap on very small screens */
}

/* Base styles for both buttons */
.confirm-sale-btn,
.secondary-btn {
    border: none;
    padding: 15px 30px;
    border-radius: 10px;
    font-size: 1.2rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
    font-family: 'Cinzel', serif;
}

/* Primary button style */
.confirm-sale-btn {
    background-color: var(--color-seat-selected);
    color: var(--color-background);
}
.confirm-sale-btn:hover {
    background-color: #8efffd;
}

/* New secondary button style */
.secondary-btn {
    background-color: transparent;
    color: var(--color-seat-selected);
    /* Create a border using the same color */
    border: 2px solid var(--color-seat-selected);
}
.secondary-btn:hover {
    background-color: rgba(52, 209, 191, 0.1); /* A faint teal glow on hover */
    color: #8efffd;
    border-color: #8efffd;
}

/* ====================================================== */
/* 12. RESPONSIVE DESIGN                                   */
/* ====================================================== */

/* --- For Tablets (max-width: 768px) --- */
@media (max-width: 768px) {
    body {
        padding-top: 20px;
    }

    .main-logo {
        max-width: 30%;
    }

    .stage {
        margin-top: -10px;
        height: 45px; /* was 50px */
        font-size: 1.3rem; /* was 1.5rem */
        max-width: 400px;
        margin-bottom: 5px;
    }

    .legend {
        gap: 15px; /* was 20px */
        font-size: 0.9rem;
        flex-wrap: wrap; /* Allow wrapping on smaller tablets */
    }

    .legend-item {
        font-size: 0.5rem;
        gap: 5px
    }

    .legend .seat {
        height: 15px;
        width: 15px;
    }

    .seating-chart {
        margin-left: 30%;
    }

    /* Make seats and spacers proportionally smaller */
    .seat, .spacer {
        width: 19px; /* was 23px */
        height: 14px; /* was 20px */
        margin: 3px;
        font-size: 0.4rem; /* was 0.45rem */
    }

    .summary {
        padding: 15px 25px;
        width: 40%;
    }
    .summary p {
        font-size: 1.1rem;
    }
    .confirm-sale-btn, .secondary-btn {
        padding: 12px 25px;
        font-size: 1.1rem;
    }
}

    .modal-content {
        padding: 25px 30px;
    }

/* --- For Phones (max-width: 480px) --- */
@media (max-width: 480px) {
    body {
        padding-top: 15px;
    }

    .main-logo {
        max-width: 20%;
        margin-bottom: 15px;
    }

    .stage {
        margin-top: -10px;
        width: 30%;
        height: 40px;
        font-size: 1.1rem;
        letter-spacing: 3px;
    }

    .legend {
        gap: 5px 10px; /* vertical and horizontal gap */
    }
    .legend-item {
        font-size: 0.4rem;
        gap: 3px
    }

    .legend .seat {
        height: 10px;
        width: 10px;
    }

    .seating-chart {
        margin-left: 50%;
    }

    /* Make seats small but still tappable */
    .seat, .spacer {
        width: 16px; /* was 23px on desktop */
        height: 11px; /* was 20px on desktop */
        margin: 2px;
        border-radius: 4px;
        font-size: 0.35rem; /* Text will be very small */
    }
    
    .summary {
        margin-top: -10px;
        width: 40%;
        padding: 15px;
    }
    .summary p {
        font-size: 1rem;
    }
    #selected-seats-container {
        font-size: 0.9rem;
    }
    .confirm-sale-btn, .secondary-btn {
        width: 100%; /* Make button full-width for easy tapping */
        padding: 12px 20px;
        font-size: 1rem;
    }

    .modal-content {
        width: 80%;
        padding: 20px; /* More compact padding */
    }
    .modal-content h2 {
        font-size: 1.5rem; /* Slightly smaller title */
    }
    .form-group {
        margin-bottom: 15px; /* Tighter spacing */
    }
    .login-btn {
        padding: 10px;
        font-size: 1rem;
    }

}